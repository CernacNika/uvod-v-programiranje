<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Datoteke</title>
<link href="pomozne-datoteke/prosojnice.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<textarea id="source">

class: center, middle

# Datoteke

### Uvod v programiranje

---

class: center, middle

## Branje datotek

---

### Datoteko za branje odpremo s funkcijo `open`

`stavki.txt`
```python
To je prvi stavek. To je drugi
stavek. To je tretji stavek. To
je četrti stavek.
```

```python
>>> open('stavki.txt')
<_io.TextIOWrapper name='stavki.txt'
 mode='r' encoding='UTF-8'>
```

---

class: question

`stavki.txt`
```python
To je prvi stavek. To je drugi
stavek. To je tretji stavek. To
je četrti stavek.
```

### Kaj izpiše spodnji ukaz?

```python
>>> print('stavki.txt')
```

---

### Z `read` preberemo dano število znakov

`stavki.txt`
```python
To je prvi stavek. To je drugi
stavek. To je tretji stavek. To
je četrti stavek.
```

```python
>>> dat = open('stavki.txt')
>>> dat.read(35)
'To je prvi stavek. To je drugi\nstav'
>>> dat.read(20)
'ek. To je tretji sta'
>>> dat.read()
'vek. To\nje četrti stavek.\n'
>>> dat.read()
''
```

---

### Z `readline` preberemo naslednjo vrstico

`stavki.txt`
```python
To je prvi stavek. To je drugi
stavek. To je tretji stavek. To
je četrti stavek.
```

```python
>>> dat = open('stavki.txt')
>>> dat.readline()
'To je prvi stavek. To je drugi\n'
>>> dat.readline()
'stavek. To je tretji stavek. To\n'
>>> dat.readline()
'je četrti stavek.\n'
>>> dat.readline()
''
```

---

### Z `readlines` preberemo vse vrstice

`stavki.txt`
```python
To je prvi stavek. To je drugi
stavek. To je tretji stavek. To
je četrti stavek.
```

```python
>>> dat = open('stavki.txt')
>>> dat.readlines()
['To je prvi stavek. To je drugi\n',
 'stavek. To je tretji stavek. To\n',
 'je četrti stavek.\n']
```

---

### Po vrsticah se lahko zapeljemo z zanko `for`

`stavki.txt`
```python
To je prvi stavek. To je drugi
stavek. To je tretji stavek. To
je četrti stavek.
```

```python
>>> dat = open('stavki.txt')
>>> for vrstica in dat:
...     print(len(vrstica), vrstica)
...
*31 To je prvi stavek. To je drugi
*
*32 stavek. To je tretji stavek. To
*
*18 je četrti stavek.```


---

### Datoteko je po uporabi dobro zapreti

```python
dat = open('ime_datoteke.txt')
...
dat.close()
```

### Namesto tega raje pišemo

```python
with open('ime_datoteke.txt') as dat:
    ...
```

---

class: center, middle, question

## Število<br>vrstic, znakov in besed<br>v slovenskih klasikih

---

class: center, middle

## Kodne tabele

---

### Računalnik si lahko zapomni le `0` in `1`

`stavki.txt`
```python
To je prvi stavek. To je drugi
stavek. To je tretji stavek. To
je četrti stavek.
```

.small[
```python
0101010001101111001000000110101001100101001000000111000001110010
0111011001101001001000000111001101110100011000010111011001100101
0110101100101110001000000101010001101111001000000110101001100101
0010000001100100011100100111010101100111011010010000101001110011
0111010001100001011101100110010101101011001011100010000001010100
0110111100100000011010100110010100100000011101000111001001100101
0111010001101010011010010010000001110011011101000110000101110110
0110010101101011001011100010000001010100011011110000101001101010
0110010100100000110001001000110101100101011101000111001001110100
0110100100100000011100110111010001100001011101100110010101101011
0010111000001010
```
]

---

### Za pretvorbo uporabljamo kodne tabele

```lisp
   nova vrstica      10      00001010
    presledek        32      00100000
        0            48      00110000
        1            49      00110001
        @            64      01000000
        A            65      01000001
        B            66      01000010
        P            80      01010000
        a            97      01100001
        d            100     01100100
```

---

#### Črke

```lisp
Python 3
```

#### Desetiški zapis

```lisp
80 121 116 104 111 110 32 51
```

#### Dvojiški zapis

.small[```lisp
0101000001111001011101000110100001101111011011100010000000110011
```]

#### Šestnajstiški zapis

```lisp
50 79 74 68 6F 6E 20 33
```


---

class: center, middle, question

## Koliko različnih znakov lahko predstavimo z 8 biti?

---


### Kodna tabela ASCII

.smalltab[
|       | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | A | B | C | D | E | F |
| ----  |:-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| **0** | ␀ | ␁ | ␂ | ␃ | ␄ | ␅ | ␆ | ␇ | ␈ | ␉ | ␊ | ␋ | ␌ | ␍ | ␎ | ␏ |
| **1** | ␐ | ␑ | ␒ | ␓ | ␔ | ␕ | ␖ | ␗ | ␘ | ␙ | ␚ | ␛ | ␜ | ␝ | ␞ | ␟ |
| **2** | ␠ | ! | " | # | $ | % | & | ' | ( | ) | * | + | , | - | . | / |
| **3** | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | : | ; | < | = | > | ? |
| **4** | @ | A | B | C | D | E | F | G | H | I | J | K | L | M | N | O |
| **5** | P | Q | R | S | T | U | V | W | X | Y | Z | [ | \ | ] | ^ | _ |
| **6** | ` | a | b | c | d | e | f | g | h | i | j | k | l | m | n | o |
| **7** | p | q | r | s | t | u | v | w | x | y | z | { | ｜ | } | ~ | ␡ |
]</div>

---

### Kodna tabela ISO-8859-1

.smalltab[
|       | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | A | B | C | D | E | F |
| ----  |:-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| **0** | ␀ | ␁ | ␂ | ␃ | ␄ | ␅ | ␆ | ␇ | ␈ | ␉ | ␊ | ␋ | ␌ | ␍ | ␎ | ␏ |
| **1** | ␐ | ␑ | ␒ | ␓ | ␔ | ␕ | ␖ | ␗ | ␘ | ␙ | ␚ | ␛ | ␜ | ␝ | ␞ | ␟ |
| **2** | ␠ | ! | " | # | $ | % | & | ' | ( | ) | * | + | , | - | . | / |
| **3** | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | : | ; | < | = | > | ? |
| **4** | @ | A | B | C | D | E | F | G | H | I | J | K | L | M | N | O |
| **5** | P | Q | R | S | T | U | V | W | X | Y | Z | [ | \ | ] | ^ | _ |
| **6** | ` | a | b | c | d | e | f | g | h | i | j | k | l | m | n | o |
| **7** | p | q | r | s | t | u | v | w | x | y | z | { | ｜ | } | ~ | ␡ |
| **8** | � | � | � | � | � | � | � | � | � | � | � | � | � | � | � | � |
| **9** | � | � | � | � | � | � | � | � | � | � | � | � | � | � | � | � |
| **A** |   | ¡ | ¢ | £ | ¤ | ¥ | ¦ | § | ¨ | © | ª | « | ¬ | - | ® | ¯ |
| **B** | ° | ± | ² | ³ | ´ | µ | ¶ | · | ¸ | ¹ | º | » | ¼ | ½ | ¾ | ¿ |
| **C** | À | Á | Â | Ã | Ä | Å | Æ | Ç | È | É | Ê | Ë | Ì | Í | Î | Ï |
| **D** | Ð | Ñ | Ò | Ó | Ô | Õ | Ö | × | Ø | Ù | Ú | Û | Ü | Ý | Þ | ß |
| **E** | à | á | â | ã | ä | å | æ | ç | è | é | ê | ë | ì | í | î | ï |
| **F** | ð | ñ | ò | ó | ô | õ | ö | ÷ | ø | ù | ú | û | ü | ý | þ | ÿ |
]</div>

---

### Kodna tabela ISO-8859-2

.smalltab[
|       | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | A | B | C | D | E | F |
| ----  |:-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| **0** | ␀ | ␁ | ␂ | ␃ | ␄ | ␅ | ␆ | ␇ | ␈ | ␉ | ␊ | ␋ | ␌ | ␍ | ␎ | ␏ |
| **1** | ␐ | ␑ | ␒ | ␓ | ␔ | ␕ | ␖ | ␗ | ␘ | ␙ | ␚ | ␛ | ␜ | ␝ | ␞ | ␟ |
| **2** | ␠ | ! | " | # | $ | % | & | ' | ( | ) | * | + | , | - | . | / |
| **3** | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | : | ; | < | = | > | ? |
| **4** | @ | A | B | C | D | E | F | G | H | I | J | K | L | M | N | O |
| **5** | P | Q | R | S | T | U | V | W | X | Y | Z | [ | \ | ] | ^ | _ |
| **6** | ` | a | b | c | d | e | f | g | h | i | j | k | l | m | n | o |
| **7** | p | q | r | s | t | u | v | w | x | y | z | { | ｜ | } | ~ | ␡ |
| **8** | � | � | � | � | � | � | � | � | � | � | � | � | � | � | � | � |
| **9** | � | � | � | � | � | � | � | � | � | � | � | � | � | � | � | � |
| **A** |   | Ą | ˘ | Ł | ¤ | Ľ | Ś | § | ¨ | Š | Ş | Ť | Ź | - | Ž | Ż |
| **B** | ° | ą | ˛ | ł | ´ | ľ | ś | ˇ | ¸ | š | ş | ť | ź | ˝ | ž | ż |
| **C** | Ŕ | Á | Â | Ă | Ä | Ĺ | Ć | Ç | Č | É | Ę | Ë | Ě | Í | Î | Ď |
| **D** | Đ | Ń | Ň | Ó | Ô | Ő | Ö | × | Ř | Ů | Ú | Ű | Ü | Ý | Ţ | ß |
| **E** | ŕ | á | â | ă | ä | ĺ | ć | ç | č | é | ę | ë | ě | í | î | ď |
| **F** | đ | ń | ň | ó | ô | ő | ö | ÷ | ř | ů | ú | ű | ü | ý | ţ | ˙ |
]</div>

---

### Kodna tabela Windows-1250

.smalltab[
|       | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | A | B | C | D | E | F |
| ----  |:-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| **0** | ␀ | ␁ | ␂ | ␃ | ␄ | ␅ | ␆ | ␇ | ␈ | ␉ | ␊ | ␋ | ␌ | ␍ | ␎ | ␏ |
| **1** | ␐ | ␑ | ␒ | ␓ | ␔ | ␕ | ␖ | ␗ | ␘ | ␙ | ␚ | ␛ | ␜ | ␝ | ␞ | ␟ |
| **2** | ␠ | ! | " | # | $ | % | & | ' | ( | ) | * | + | , | - | . | / |
| **3** | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | : | ; | < | = | > | ? |
| **4** | @ | A | B | C | D | E | F | G | H | I | J | K | L | M | N | O |
| **5** | P | Q | R | S | T | U | V | W | X | Y | Z | [ | \ | ] | ^ | _ |
| **6** | ` | a | b | c | d | e | f | g | h | i | j | k | l | m | n | o |
| **7** | p | q | r | s | t | u | v | w | x | y | z | { | ｜ | } | ~ | ␡ |
| **8** | € | � | ‚ | � | „ | … | † | ‡ | � | ‰ | Š | ‹ | Ś | Ť | Ž | Ź |
| **9** | � | ‘ | ’ | “ | ” | • | – | — | � | ™ | š | › | ś | ť | ž | ź |
| **A** |   | ˇ | ˘ | Ł | ¤ | Ą | ¦ | § | ¨ | © | Ş | « | ¬ | -­ | ® | Ż |
| **B** | ° | ± | ˛ | ł | ´ | µ | ¶ | · | ¸ | ą | ş | » | Ľ | ˝ | ľ | ż |
| **C** | Ŕ | Á | Â | Ă | Ä | Ĺ | Ć | Ç | Č | É | Ę | Ë | Ě | Í | Î | Ď |
| **D** | Đ | Ń | Ň | Ó | Ô | Ő | Ö | × | Ř | Ů | Ú | Ű | Ü | Ý | Ţ | ß |
| **E** | ŕ | á | â | ă | ä | ĺ | ć | ç | č | é | ę | ë | ě | í | î | ď |
| **F** | đ | ń | ň | ó | ô | ő | ö | ÷ | ř | ů | ú | ű | ü | ý | ţ | ˙ |
]</div>

---

### Kodna tabela UTF-8


#### Predstavitev znakov ASCII je enaka kot doslej

```lisp
0   00110000
@   01000000
A   01000001
a   01100001
```

#### Ostale znake predstavimo z več kot 8 biti

```lisp
č  11000100 10001101
Θ  11001110 10011000
㧔  11100011 10100111 10010100
💩  11110000 10011111 10010010 10101001
```

---

### Kodno tabelo nastavimo s parametrom `encoding`

```python
with open(..., encoding='utf-8') as d:
    ...
```

```python
with open(..., encoding='cp1250') as d:
    ...
```

```python
with open(..., encoding='latin2') as d:
    ...
```

---

class: center, middle

## Pisanje datotek

---

### Datoteko za pisanje odpremo s parametrom `w`

```python
with open(..., 'w') as d:
    ...
```

---

### V datoteko pišemo z metodo `write`

```python
with open('izpis.txt', 'w') as d:
    d.write('To je ')
    d.write('en stavek.\nTo je drugi.')
```

`izpis.txt`
```python
To je en stavek.
To je drugi.
```

---

### V datoteko pišemo tudi s `print`

```python
with open('izpis.txt', 'w') as d:
    print('To je en stavek.', file=d)
    print('1 + 1 =', 1 + 1, file=d)
```

`izpis.txt`
```python
To je en stavek
1 + 1 = 2
```

---

### Vsakič, ko datoteko odpremo za pisanje, jo povozimo

```python
with open('izpis.txt', 'w') as d:
    print('To je en stavek.', file=d)
    print('To je drugi.', file=d)
```

`izpis.txt`
```python
To je en stavek.
To je drugi.
```

---

### Vsakič, ko datoteko odpremo za pisanje, jo povozimo

```python
with open('izpis.txt', 'w') as d:
    print('To je tretji stavek.', file=d)
    print('To je četrti.', file=d)
```

`izpis.txt`
```python
To je tretji stavek.
To je četrti.
```

---

### Datoteko za dodajanje odpremo s parametrom `a`

```python
with open('izpis.txt', 'a') as d:
    print('To je en stavek.', file=d)
    print('To je drugi.', file=d)
```

`izpis.txt`
```python
To je en stavek.
To je drugi.
```

---

### Datoteko za dodajanje odpremo s parametrom `a`

```python
with open('izpis.txt', 'a') as d:
    print('To je tretji stavek.', file=d)
    print('To je četrti.', file=d)
```

`izpis.txt`
```python
To je en stavek.
To je drugi.
To je tretji stavek.
To je četrti.
```

---

class: center, middle, question

## Oštevilčene vrstice slovenskih klasikov

---

class: center, middle

## Delo z datotečnim sistemom

---

### Trenutni imenik dobimo z `os.getcwd`

```python
>>> os.getcwd()
'/Users/matija'
```

### Delovni imenik nastavimo z `os.chdir`

```python
>>> os.chdir('Documents/uvp')
>>> os.getcwd()
'/Users/matija/Documents/uvp'
>>> os.chdir('..')
>>> os.getcwd()
'/Users/matija/Documents'
>>> os.chdir('uvp')
```

---

### Imena vseh datotek v danem imeniku dobimo z `os.listdir`

```python
>>> os.listdir()
['datoteke-s-predavanj', 'prosojnice',
'zapiski']
>>> os.chdir('prosojnice')
>>> os.listdir()
['01-osnove-pythona.html',
'03-podatkovni-tipi.html',
'04-stranski-ucinki.html',
'05-zanke.html', '06-datoteke.html',
'07-spreminjanje.html',
'pomozne-datoteke', 'slike']
```

---

### Z `os.path.isdir` ugotovimo, ali pot kaže na imenik

```python
>>> os.path.isdir('slike')
True
>>> os.path.isdir('pomozne-datoteke')
True
>>> os.path.isdir('05-zanke.html')
False
```

---

### Ime po končnici razdelimo z `os.path.splitext`

```python
>>> os.path.splitext('/imenik/test.txt')
('/imenik/test', '.txt')
```

### Ime po imeniku razdelimo z `os.path.split`

```python
>>> os.path.split('/imenik/test.txt')
('/imenik', 'test.txt')
```

---

class: center, middle, question

## Urejanje zmedenih datotek



</div>


</textarea>
<script src="pomozne-datoteke/jquery-3.1.1.slim.min.js"></script> 
<script src="pomozne-datoteke/remark-latest.min.js"></script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="pomozne-datoteke/prosojnice.js"></script>
</body>
</html>
