<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Kako deluje računalnik? (nekaj vsebine še manjka) &mdash; Python za matematike 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Python za matematike 0.1 documentation" href="index.html" />
    <link rel="prev" title="TkInter (pride naslednje leto)" href="19-tkinter.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="kako-deluje-racunalnik-nekaj-vsebine-se-manjka">
<h1>Kako deluje računalnik? (nekaj vsebine še manjka)<a class="headerlink" href="#kako-deluje-racunalnik-nekaj-vsebine-se-manjka" title="Povezava na naslov">¶</a></h1>
<p>Tudi, če se vam ni zdelo, smo v Pythonu programe pisali na človeku izjemno
prijazen način. Tokrat bomo spoznali še drugo stran programiranja, saj bomo
pisali programe, ki neposredno dostopajo do računalnika.</p>
<p>Računalnik sicer izvaja strojno kodo, ki je sestavljena le iz ničel in
enic, mi pa bomo uporabljali <em>zbirnik</em> (<em>assembler</em>), ki nam omogoča, da
programe pišemo v zelo okrnjenem jeziku, ki se nato prevede v strojno
kodo. V zbirniku običajno pišemo programe, za katere želimo, da so
izjemno hitri, npr. gonilnike za grafične kartice.</p>
<p>Pri tem bomo uporabljali <a class="reference external" href="http://schweigi.github.io/assembler-simulator/">simulator 8-bitnega
računalnika</a>, ki
precej dobro zajame osnovne ideje običajnih računalnikov.</p>
<div class="section" id="sestavni-deli-simulatorja">
<h2>Sestavni deli simulatorja<a class="headerlink" href="#sestavni-deli-simulatorja" title="Povezava na naslov">¶</a></h2>
<p>Vsak računalnik je sestavljen iz <em>procesorja</em>, ki izvaja ukaze, in
<em>pomnilnika</em>, v katerega procesor zapisuje podatke. Ker pa je pomnilnik
počasen (s stališča procesorja, seveda), lahko procesor podatke shrani
tudi v manjše število <em>registrov</em>. Pri našem simulatorju jih je šest:</p>
<ul class="simple">
<li>delovni registri <code class="docutils literal"><span class="pre">A</span></code>, <code class="docutils literal"><span class="pre">B</span></code>, <code class="docutils literal"><span class="pre">C</span></code> in <code class="docutils literal"><span class="pre">D</span></code> se uporabljajo za
shranjevanje rezultatov operacij kot so seštevanje, primerjava ali
branje iz pomnilnika.</li>
<li>register <code class="docutils literal"><span class="pre">IP</span></code> (<em>instruction pointer</em>) kaže na del pomnilnika, v
katerem je zapisan ukaz, ki ga je treba izvesti. Po opravljenem ukazu
se vrednost registra <code class="docutils literal"><span class="pre">IP</span></code> poveča. Vrednost <code class="docutils literal"><span class="pre">IP</span></code> lahko tudi
spremenimo, s čimer dosežemo, da procesor skoči na izvajanje drugega
dela programa.</li>
<li>register <code class="docutils literal"><span class="pre">SP</span></code> (<em>stack pointer</em>) pa kaže na <em>sklad</em>, to je del
pomnilnika, na katerega zaporedoma nalagamo vrednosti. Vsakič, ko
naložimo vrednost, se vrednost registra <code class="docutils literal"><span class="pre">SP</span></code> poveča.</li>
</ul>
<p>Poleg registrov ima simulator še zastavice <code class="docutils literal"><span class="pre">Z</span></code> (<em>zero</em>), <code class="docutils literal"><span class="pre">C</span></code>
(<em>carry</em>) in <code class="docutils literal"><span class="pre">F</span></code>, v katerih je spravljen samo en bit. Malo bolj
podrobno jih bomo pogledali pri ukazih.</p>
<p>Vsebino registrov in pomnilnika lahko vidimo v razdelku <strong>CPU &amp;
Memory</strong>, ki zaseda glavni del desne strani. Naš procesor je 8-bitni,
zato ima 256 spominskih celic. Zadnjih 24 celic, ki so obarvane sivo, je
namenjenih izpisu: kar zapišete v njih, se bo prikazalo v razdelku
<strong>Output</strong> zgoraj desno.</p>
<p>V razdelek <strong>Code</strong> na levi strani simulatorja boste pisali program, ki
se bo nato prevedel v strojno kodo, ki se bo zapisala v pomnilnik. Da se
boste lažje sklicevali na dele kode, jim boste pripisali oznake, ki so
predstavljene v razdelku <strong>Labels</strong> spodaj desno.</p>
<p>Pod razdelkom <strong>RAM</strong> se <em>View</em> splača nastaviti na <em>Decimal</em>,
da bodo vrednosti v pomnilniku predstavljene z običajnim
desetiškim zapisom.</p>
</div>
<div class="section" id="ukazi-zbirnika">
<h2>Ukazi zbirnika<a class="headerlink" href="#ukazi-zbirnika" title="Povezava na naslov">¶</a></h2>
<p>Vsak ukaz zbirnika je oblike</p>
<div class="highlight-python"><div class="highlight"><pre>neobvezna_oznaka:
        IME_UKAZA argumenti         ; neobvezen komentar
</pre></div>
</div>
<p>Če pred ukazom napišete neobvezno oznako, se boste prek nje kasneje
lahko sklicevali na del pomnilnika, v katerem se nahaja ukaz. Za imenom
ukaza naštejete argumente. Odvisno od ukaza je teh lahko 0, 1 ali 2. Za
ukazom se vam splača napisati komentar, v katerem lahko po človeško
napišete, kaj ukaz počne.</p>
<p>Vseh ukazov, ki jih nudi simulator, ne bomo uporabljali,
temveč se bomo zadovoljili s sledečimi ukazi, v katerih bomo z <code class="docutils literal"><span class="pre">reg</span></code>
označili imena delovnih registrov (<code class="docutils literal"><span class="pre">A</span></code>, <code class="docutils literal"><span class="pre">B</span></code>, <code class="docutils literal"><span class="pre">C</span></code>, <code class="docutils literal"><span class="pre">D</span></code>), s
<code class="docutils literal"><span class="pre">konst</span></code> pa konstante (<code class="docutils literal"><span class="pre">0</span></code>, <code class="docutils literal"><span class="pre">1</span></code>, <code class="docutils literal"><span class="pre">7</span></code>, <code class="docutils literal"><span class="pre">42</span></code>, …).</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ADD</span> <span class="pre">reg1,</span> <span class="pre">reg2</span></code> vrednosti registra <code class="docutils literal"><span class="pre">reg1</span></code> prišteje vrednost
registra <code class="docutils literal"><span class="pre">reg2</span></code></li>
<li><code class="docutils literal"><span class="pre">ADD</span> <span class="pre">reg1,</span> <span class="pre">konst</span></code> vrednosti registra <code class="docutils literal"><span class="pre">reg1</span></code> prišteje konstanto
<code class="docutils literal"><span class="pre">konst</span></code></li>
</ul>
<p>Dostikrat lahko ukaz za argument sprejme bodisi register bodisi
konstanto. Take argumente bomo od sedaj naprej pisali kar kot
<code class="docutils literal"><span class="pre">reg/konst</span></code>. Torej:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ADD</span> <span class="pre">reg1,</span> <span class="pre">reg2/konst</span></code> vrednosti registra <code class="docutils literal"><span class="pre">reg1</span></code> prišteje
<code class="docutils literal"><span class="pre">reg2/konst</span></code>.</li>
<li><code class="docutils literal"><span class="pre">SUB</span> <span class="pre">reg1,</span> <span class="pre">reg2/konst</span></code> od vrednosti registra <code class="docutils literal"><span class="pre">reg1</span></code> odšteje
<code class="docutils literal"><span class="pre">reg2/konst</span></code>.</li>
<li><code class="docutils literal"><span class="pre">MOV</span> <span class="pre">reg1,</span> <span class="pre">reg2/konst</span></code> v register <code class="docutils literal"><span class="pre">reg1</span></code> zapiše <code class="docutils literal"><span class="pre">reg2/konst</span></code>.</li>
<li><code class="docutils literal"><span class="pre">MUL</span> <span class="pre">reg/konst</span></code> vrednost registra <code class="docutils literal"><span class="pre">A</span></code> pomnoži z <code class="docutils literal"><span class="pre">reg/konst</span></code>.</li>
<li><code class="docutils literal"><span class="pre">INC</span> <span class="pre">reg</span></code> poveča vrednost registra <code class="docutils literal"><span class="pre">reg</span></code> za 1.</li>
<li><code class="docutils literal"><span class="pre">DEC</span> <span class="pre">reg</span></code> zmanjša vrednost registra <code class="docutils literal"><span class="pre">reg</span></code> za 1.</li>
<li><code class="docutils literal"><span class="pre">DIV</span> <span class="pre">reg/konst</span></code> vrednost registra <code class="docutils literal"><span class="pre">A</span></code> celoštevilsko deli z
<code class="docutils literal"><span class="pre">reg/konst</span></code>.</li>
<li><code class="docutils literal"><span class="pre">CMP</span> <span class="pre">reg1</span> <span class="pre">reg2/konst</span></code> primerja vrednosti registra <code class="docutils literal"><span class="pre">reg1</span></code> z
<code class="docutils literal"><span class="pre">reg2/konst2</span></code>.</li>
<li><code class="docutils literal"><span class="pre">JMP</span> <span class="pre">label</span></code> skoči na izvajanje ukaza, označenega z <code class="docutils literal"><span class="pre">label</span></code> (torej
register <code class="docutils literal"><span class="pre">IP</span></code> nastavi na del pomnilnika, na katerega kaže
<code class="docutils literal"><span class="pre">label</span></code>).</li>
<li><code class="docutils literal"><span class="pre">JA</span> <span class="pre">label</span></code> skoči na ukaz, označen z <code class="docutils literal"><span class="pre">label</span></code>, če je bil v zadnji
primerjavi levi člen večji. Sicer nadaljuje izvajanje z naslednjim
ukazom.</li>
<li><code class="docutils literal"><span class="pre">JB</span> <span class="pre">label</span></code> skoči na ukaz, označen z <code class="docutils literal"><span class="pre">label</span></code>, če je bil v zadnji
primerjavi levi člen manjši. Sicer nadaljuje izvajanje z naslednjim
ukazom.</li>
<li><code class="docutils literal"><span class="pre">JE</span> <span class="pre">label</span></code> skoči na ukaz, označen z <code class="docutils literal"><span class="pre">label</span></code>, če skoči, če sta
bila v zadnji primerjavi člena enaka.</li>
<li><code class="docutils literal"><span class="pre">PUSH</span> <span class="pre">reg/konst</span></code> postavi vrednost <code class="docutils literal"><span class="pre">reg/konst</span></code> na sklad (in
ustrezno poveča <code class="docutils literal"><span class="pre">SP</span></code>).</li>
<li><code class="docutils literal"><span class="pre">POP</span> <span class="pre">reg</span></code> vrednost vrhnjega elementa sklada shrani v <code class="docutils literal"><span class="pre">reg</span></code> (in
ustrezno zmanjša <code class="docutils literal"><span class="pre">SP</span></code>).</li>
<li><code class="docutils literal"><span class="pre">HLT</span></code> konča z izvajanjem programa.</li>
</ul>
<p>Če želite izvedeti več, si poglejte stran <a class="reference external" href="http://schweigi.github.io/assembler-simulator/instruction-set.html">Instruction
Set</a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Seznam Vsebine</a></h3>
  <ul>
<li><a class="reference internal" href="#">Kako deluje računalnik? (nekaj vsebine še manjka)</a><ul>
<li><a class="reference internal" href="#sestavni-deli-simulatorja">Sestavni deli simulatorja</a></li>
<li><a class="reference internal" href="#ukazi-zbirnika">Ukazi zbirnika</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="19-tkinter.html" title="prejšnje poglavje">TkInter (pride naslednje leto)</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>Trenutna stran</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/20-kako-deluje-racunalnik.txt"
            rel="nofollow">Prikaži izvorno kodo</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Hitro iskanje</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Potrdi" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Vnesi ime modula, razreda ali funkcije.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Matija Pretnar.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/20-kako-deluje-racunalnik.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>